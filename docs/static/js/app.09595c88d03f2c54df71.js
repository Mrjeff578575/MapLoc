webpackJsonp([1],{111:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{msg:"Welcome to Your Vue.js App"}}}},112:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App",tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],options:"",areaValue:"",tableVisible:!1,dialogFormVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px"}},watch:{areaValue:function(e){console.log(e),e?(this.tableVisible=!0,this.onAreaSelect(e)):this.tableVisible=!1}},methods:{tableRowClassName:function(e,t){return 1===t?"info-row":3===t?"positive-row":""},handleClick:function(){console.log("click"),this.dialogFormVisible=!0},openWarningNotify:function(){this.$notify({title:"警告",message:"这是一条警告的提示消息",type:"warning"})},onAreaSelect:function(e){var t=this;this.$http.get("http://localhost:2017/device.json?areaid="+e).then(function(e){console.log(e)}).catch(function(e){t.$message("这是一条消息提示"),console.log(e)})}},mounted:function(){var e=this;this.$http.get("http://localhost:2017/area.json").then(function(t){console.log(t.data),e.options=t.data.item}).catch(function(e){console.log(e)})}}},113:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{msg:"Welcome to Your Vue.js App"}}}},114:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(116),o=a(194),i=a.n(o),r=a(37),l=a.n(r),s=a(38);t.default={data:function(){return{dialogVisible:!1,msg:"Welcome to Your Vue.js App",activeName:"",markerTitle:"This is a marker"}},components:{topbar:i.a},computed:a.i(s.b)({showModal:function(e){return e.common.showModal}}),mounted:function(){var e=this;this.mapHelper=new n.a({mapStyle:"amap://styles/fresh"}),this.mapHelper.drawMap(),this.getMakerList(function(t){l.a.each(t,function(t){e.mapHelper.addMarker(t,e.bindEventToMarker)})}),this.$store.dispatch("initMapHelper",{mapHelper:this.mapHelper})},destroyed:function(){this.mapHelper.destroy()},methods:{getMakerList:function(e){var t=this;this.$http.get("./static/mock/marker.json").then(function(a){console.log(a.data),e(a.data.item),t.$store.dispatch("initMarkerList",{markerList:a.data.item})}).catch(function(e){t.$message("oops, there is a error"),console.log(e)})},getMakerInfo:function(e,t){this.$http.get("./static/mock/marker.json?markerId"+e).then(function(e){t(null,e)}).catch(function(e){t(e)})},bindEventToMarker:function(e){e.on("click",this.handleMarkerClick)},handleMarkerClick:function(e){var t=this,a=e.target.getExtData();this.getMakerInfo(a,function(a,n){a?t.$message("这是一条消息提示"):(console.log(n),n={pos:"[116.480983, 39.989628]",id:"1",name:"下午4点成都篮球场约起来",label:"体育运动"},t.mapHelper.addInfoWindow(e.target,n,{afterOpen:function(){}}))}),console.log(e.target.getExtData())},handleClose:function(e){e()}}}},115:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),o=a(38),i=a(37),r=a.n(i),l=a(187),s=a.n(l);n.default.component("marker-autocomplete",{functional:!0,render:function(e,t){var a=t.props.item;return e("li",t.data,[e("div",{attrs:{class:"name"}},[a.name]),e("span",{attrs:{class:"label"}},[a.label])])},props:{item:{type:Object,required:!0}}}),t.default={data:function(){return{dialogVisible:!1,searchVal:"",activeName:"first"}},computed:a.i(o.b)({markerList:function(e){return e.common.markerList},mapHelper:function(e){return e.common.mapHelper}}),methods:{handleSelect:function(e){var t=this;this.$store.dispatch("changeModalStatus");var a=r.a.find(this.markerList,function(t){return t.id==e.id});t.highLightMarker(a)},handleClick:function(){console.log(this.activeName)},openDropDown:function(){this.dialogVisible=!0},onOpenSetting:function(){s()(document.querySelector("#allmap")).then(function(e){var t=e.toDataURL("image/png"),a=document.querySelector(".map-dialog"),n=document.querySelector(".top-root > .el-dialog__wrapper"),o=document.createElement("div");o.className+="imageMask",o.setAttribute("style","position: absolute;top: 15%;left: 5%;filter: blur(3px);background-position: 5% 30%;"),o.style.backgroundImage="url("+t+")",o.style.width=a.clientWidth+"px",o.style.height=a.clientHeight+"px",a.style.zIndex="99",n.appendChild(o)})},highLightMarker:function(e){var t=this.mapHelper.getMapMakerById(e.id);t.setAnimation("AMAP_ANIMATION_BOUNCE"),setTimeout(function(e){t.setAnimation("AMAP_ANIMATION_NONE")},3e3),this.mapHelper.setMapZoomAndCenter(void 0,t.getPosition())},handleClose:function(e){e()},querySearchAsync:function(e,t){this.$store.dispatch("changeModalStatus");var a=e?this.markerList.filter(this.createStateFilter(e)):this.markerList;clearTimeout(this.timeout),this.timeout=setTimeout(function(e){t(a)},3e3*Math.random())},createStateFilter:function(e){return function(t){return 0===t.value.indexOf(e.toLowerCase())}},loadSearchCollection:function(){return this.markerList}}}},116:function(e,t,a){"use strict";var n=a(123),o=a.n(n),i=a(124),r=a.n(i),l=a(125),s=a.n(l),c=a(118),u=a(37),p=a.n(u),d=function(){function e(t){r()(this,e),this.mapStyle=t.mapStyle,this.mapMarkerList=[],console.log(t)}return s()(e,[{key:"drawMap",value:function(){this.map=new AMap.Map("allmap",{resizeEnable:!0,zoom:17,center:[116.480983,39.989628],mapStyle:this.mapStyle});var e=new AMap.ToolBar({locate:!0,autoPosition:!1});return this.map.addControl(e),AMap.event.addListener(e,"location",this._onLocComplete),document.addEventListener("click",function(t){Array.prototype.slice.call(t.target.classList).indexOf("amap-geo")>-1&&e.doLocation()}),this.map.addControl(new AMap.Scale),this}},{key:"_onLocComplete",value:function(e){this.setMapZoomAndCenter(17,e.LngLat),this._getMarkerByLngLat(e.LngLat)}},{key:"setMapZoomAndCenter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:17,t=arguments[1];if(!t)return void console.warn("please input center pos");this.map.setZoomAndCenter(e,t)}},{key:"_getMarkerByLngLat",value:function(e){console.log(e)}},{key:"onGetLocError",value:function(e){console.log(e)}},{key:"addMarker",value:function(e,t){var a=this;new o.a(this.createCustomMarker.bind(this)).then(function(n){var o=new AMap.Marker({position:e.pos,content:n});o.setExtData(e),o.setMap(a.map),a.mapMarkerList.push(o),t(o)}).catch(function(e){console.log(e)})}},{key:"getMapMakerById",value:function(e){return p.a.find(this.mapMarkerList,function(t){return t.getExtData().id==e})}},{key:"bindMarkerEvent",value:function(e,t,a){AMap.event.addListener(e,t,a)}},{key:"handleMarkerClick",value:function(){console.log("1")}},{key:"createCustomMarker",value:function(e,t){a.i(c.a)("marker",function(t){var a={imgSrc:"static/img/logo.png"},n=t(a);e(n)},function(e){t(e)})}},{key:"addInfoWindow",value:function(e,t,a){var n=this;new o.a(this.createCustomInfoWindow.bind(this,t)).then(function(t){var o=new AMap.InfoWindow({isCustom:!0,autoMove:!0,content:t,closeWhenClickMap:!0,offset:new AMap.Pixel(16,-55)});o.open(n.map,e.getPosition()),AMap.event.addListener(o,"open",a.afterOpen.call(null))}).catch(function(e){console.log(e)})}},{key:"createCustomInfoWindow",value:function(e,t,n){a.i(c.a)("infoWindow",function(e){var a={image:"static/img/logo.png",title:"this is a custom info window",content:"This is a custom info window text",maskImage:"static/img/timg.jpeg"},n=e(a);t(n)},function(e){n(e)})}},{key:"destroy",value:function(){this.mapStyle.destroy()}}]),e}();t.a=d},117:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),o=a(71),i=a.n(o),r=a(67),l=a(68),s=a(66),c=a.n(s),u=a(69),p=a.n(u),d=a(70);a.n(d);n.default.use(p.a),n.default.config.productionTip=!1,n.default.prototype.$http=c.a,new n.default({el:"#app",router:r.a,store:l.a,template:"<App/>",components:{App:i.a}})},118:function(e,t,a){"use strict";function n(e,t){i({marker:"./static/template/marker.html",infoWindow:"./static/template/infoWindow.html"}[e],function(e){t(l.a.compile(e))})}function o(){var e=void 0,t=void 0,a=void 0;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){a=progIds[t];try{e=new ActiveXObject(a)}catch(e){}if(e){progIds=[a];break}}return e}function i(e,t,a,n){var i=o(),r=void 0;if(i.open("GET",e,!0),n)for(r in n)n.hasOwnProperty(r)&&i.setRequestHeader(r.toLowerCase(),n[r]);i.onreadystatechange=function(n){var o=void 0,r=void 0;4===i.readyState&&(o=i.status,o>399&&o<600?(r=new Error(e+" HTTP status: "+o),r.xhr=i,a&&a(r)):t(i.responseText))},i.send(null)}var r=a(186),l=a.n(r);t.a=n},119:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"changeModalStatus",function(){return o}),a.d(t,"initMarkerList",function(){return i}),a.d(t,"initMapHelper",function(){return r});var n=a(46),o=function(e){(0,e.commit)(n.b)},i=function(e,t){(0,e.commit)(n.c,t)},r=function(e,t){(0,e.commit)(n.a,t)}},120:function(e,t){},121:function(e,t,a){"use strict";var n,o=a(126),i=a.n(o),r=a(46),l={showModal:!1,markerList:[],mapHelper:""},s=(n={},i()(n,r.a,function(e,t){e.mapHelper=t.mapHelper}),i()(n,r.b,function(e){e.showModal=!e.showModal}),i()(n,r.c,function(e,t){e.markerList=t.markerList}),i()(n,r.ADD_MARKER_LIST,function(e,t){e.markerList.push(t.marker)}),n);t.a={state:l,mutations:s}},122:function(e,t){},180:function(e,t){},181:function(e,t){},182:function(e,t){},183:function(e,t){},184:function(e,t){},185:function(e,t){},190:function(e,t,a){function n(e){a(183)}var o=a(7)(a(111),a(199),n,"data-v-69ece710",null);e.exports=o.exports},191:function(e,t,a){function n(e){a(182)}var o=a(7)(a(112),a(198),n,null,null);e.exports=o.exports},192:function(e,t,a){function n(e){a(185)}var o=a(7)(a(113),a(201),n,"data-v-7a22c1a8",null);e.exports=o.exports},193:function(e,t,a){function n(e){a(181)}var o=a(7)(a(114),a(197),n,null,null);e.exports=o.exports},194:function(e,t,a){function n(e){a(180)}var o=a(7)(a(115),a(196),n,null,null);e.exports=o.exports},195:function(e,t,a){var n=a(7)(null,null,null,null,null);e.exports=n.exports},196:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top-root"},[a("div",{staticClass:"top-con"},[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"edit"}}),e._v(" "),a("el-autocomplete",{staticClass:"top-autocomplete",attrs:{"popper-class":"marker-autocomplete","custom-item":"marker-autocomplete","fetch-suggestions":e.querySearchAsync,placeholder:"请输入查询点",icon:"search"},on:{select:e.handleSelect},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"arrow-down"},on:{click:e.openDropDown}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"地图设置",visible:e.dialogVisible,size:"tiny","custom-class":"map-dialog slideInDown",modal:!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t},open:e.onOpenSetting}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用户管理",name:"first"}},[e._v("用户管理")]),e._v(" "),a("el-tab-pane",{attrs:{label:"配置管理",name:"second"}},[e._v("配置管理")]),e._v(" "),a("el-tab-pane",{attrs:{label:"角色管理",name:"third"}},[e._v("角色管理")])],1),e._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},197:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-con"},[a("div",{staticClass:"v-modal",class:{"modal-active":e.showModal}}),e._v(" "),a("div",{attrs:{id:"allmap"}}),e._v(" "),a("topbar"),e._v(" "),a("el-dialog",{attrs:{title:e.markerTitle,visible:e.dialogVisible,size:"tiny","custom-class":"map-dialog","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("这是一段信息")]),e._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}},198:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"device-container"},[a("el-row",{staticClass:"head-con",attrs:{gutter:10}},[a("el-col",{attrs:{xs:8}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.areaValue,callback:function(t){e.areaValue=t},expression:"areaValue"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tableVisible,expression:"tableVisible"}],staticClass:"deviceTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"date",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClick}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.openWarningNotify}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{layout:"prev, pager, next",total:50}})],1),e._v(" "),a("el-dialog",{attrs:{title:"收货地址",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"活动名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动区域","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.region,callback:function(t){e.form.region=t},expression:"form.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},199:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page_wp"},[a("div",{staticClass:"pagebox page_1"}),e._v(" "),a("div",{staticClass:"pagebox page_2"}),e._v(" "),a("div",{staticClass:"pagebox page_3"}),e._v(" "),a("div",{staticClass:"pagebox page_4"}),e._v(" "),a("div",{staticClass:"pagebox page_5"})])}]}},200:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},201:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"hello"})},staticRenderFns:[]}},46:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return i});var n="changeModalStatus",o="initMarkerList",i="initMapHelper"},67:function(e,t,a){"use strict";var n=a(2),o=a(202),i=a(190),r=a.n(i),l=a(191),s=a.n(l),c=a(192),u=(a.n(c),a(195)),p=a.n(u),d=a(193),f=a.n(d);n.default.use(o.a);var m=new o.a({routes:[{path:"/",name:"map",component:f.a},{path:"/home",component:r.a},{path:"/device",component:s.a},{path:"/user",component:p.a},{path:"/map",component:f.a}]});m.beforeEach(function(e,t,a){console.log(e),a()}),t.a=m},68:function(e,t,a){"use strict";var n=a(2),o=a(38),i=a(119),r=a(120),l=(a.n(r),a(122)),s=a.n(l),c=a(121);n.default.use(o.a);t.a=new o.a.Store({actions:i,getters:r,modules:{login:s.a,common:c.a},trict:!1})},70:function(e,t){},71:function(e,t,a){function n(e){a(184)}var o=a(7)(null,a(200),n,null,null);e.exports=o.exports}},[117]);
//# sourceMappingURL=app.09595c88d03f2c54df71.js.map